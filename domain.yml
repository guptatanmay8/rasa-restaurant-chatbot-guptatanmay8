version: "2.0"

intents:
  - greet
  - goodbye
  - reserve_table
  - faq:
      use_entities: None
  - number_of_seats:
      use_entities:
        - number
        - time
        - section
  - section:
      use_entities:
        - section
      ignore_entities:
        - number
  - time

entities:
  - number
  - section
  - time

slots:
  number:
    type: any
  section:
    type: any
  time:
    type: any

responses:

  utter_faq/timings:
    - text: "The restaurant opens at 7pm and closes at 10pm."

  utter_faq/open_days:
    - text: "The restaurant is open each and every day."

  utter_faq/cancel:
    - text: "To cancel a reservation, simply call us at +91 9876543210 and cancel your reservation"

  utter_faq/special:
    - text: "Our chef is a master of the Italian cuisine. Our core speciality is our pasta, which is renowned throughout the city."

  utter_greet:
    - text: "Hey there! How may I help you?"

  utter_goodbye:
    - text: "Bye"

  utter_ask_number:
    - text: How many seats would you like to reserve

  utter_ask_section:
    - text: Which section would you like to book
      buttons:
        - title: "AC"
          payload: /section{{"section":"AC"}}
        - title: "Non-AC"
          payload: /section{{"section":"AC"}}

  utter_ask_time:
    - text: When would you like to book a reservation(We are only open from 7pm to 10pm)

  utter_final_details:
    - text: You have reserved {Num_seats} seats in our {Section} section for {Time}. Thanks!

actions:
  - action_submit
  - validate_resturant_form

forms:
  resturant_form:
    number:
      - type: from_entity
        entity: number

    section:
      - type: from_entity
        entity: section

    time:
      - type: from_entity
        entity: time

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
